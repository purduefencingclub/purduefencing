{"ast":null,"code":"import{BrowserRouter,Route,Switch,withRouter}from\"react-router-dom\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import Index from\"./pages/Index\";import About from\"./pages/About\";import Officers from\"./pages/Officers\";import Join from\"./pages/Join\";import Contact from\"./pages/Contact\";import News from\"./pages/News\";import Beginner from\"./pages/Beginner\";import faq from\"./pages/FAQ\";import SignUp from\"./pages/SignUp\";import Admin from\"./pages/Admin\";import Post from\"./pages/Post\";import PrivateRoute from\"./components/PrivateRoute\";import Dashboard from\"./dashboard/Dashboard\";import jwt_decode from\"jwt-decode\";import setAuthToken from\"./utils/setAuthToken\";import{setCurrentUser,logoutUser}from\"./actions/authActions\";import{Provider}from\"react-redux\";import store from\"./store\";// Check for token to keep user logged in\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";if(localStorage.jwtToken){// Set auth token header auth\nvar token=localStorage.jwtToken;setAuthToken(token);// Decode token and get user info and exp\nvar decoded=jwt_decode(token);// Set user and isAuthenticated\nstore.dispatch(setCurrentUser(decoded));// Check for expired token\nvar currentTime=Date.now()/1000;// to get in milliseconds\nif(decoded.exp<currentTime){// Logout user\nstore.dispatch(logoutUser());// Redirect to login\nwindow.location.href=\"/admin\";}}var App=function App(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Index}),/*#__PURE__*/_jsx(Route,{path:\"/about\",component:About}),/*#__PURE__*/_jsx(Route,{path:\"/officers\",component:Officers}),/*#__PURE__*/_jsx(Route,{path:\"/join\",component:Join}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",component:Contact}),/*#__PURE__*/_jsx(Route,{path:\"/news\",component:News}),/*#__PURE__*/_jsx(Route,{path:\"/beginner\",component:Beginner}),/*#__PURE__*/_jsx(Route,{path:\"/faq\",component:faq}),/*#__PURE__*/_jsx(Route,{path:\"/post/:id\",component:Post}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",component:SignUp}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",component:Admin}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/dashboard\",component:Dashboard})})]})});};export default App;","map":{"version":3,"sources":["/home/fencingadmin/purduefencing/purduefencing/Client/src/App.js"],"names":["BrowserRouter","Route","Switch","withRouter","React","useState","useEffect","axios","Index","About","Officers","Join","Contact","News","Beginner","faq","SignUp","Admin","Post","PrivateRoute","Dashboard","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Provider","store","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"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","sourcesContent":["import { BrowserRouter, Route, Switch, withRouter } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Index from \"./pages/Index\";\nimport About from \"./pages/About\";\nimport Officers from \"./pages/Officers\";\nimport Join from \"./pages/Join\";\nimport Contact from \"./pages/Contact\";\nimport News from \"./pages/News\";\nimport Beginner from \"./pages/Beginner\";\nimport faq from \"./pages/FAQ\";\nimport SignUp from \"./pages/SignUp\";\nimport Admin from \"./pages/Admin\";\nimport Post from \"./pages/Post\";\n\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport Dashboard from \"./dashboard/Dashboard\";\n\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n  // Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"/admin\";\n  }\n}\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <Route exact path=\"/\" component={Index} />\n        <Route path=\"/about\" component={About} />\n        <Route path=\"/officers\" component={Officers} />\n        <Route path=\"/join\" component={Join} />\n        <Route path=\"/contact\" component={Contact} />\n        <Route path=\"/news\" component={News} />\n        <Route path=\"/beginner\" component={Beginner} />\n        <Route path=\"/faq\" component={faq} />\n        <Route path=\"/post/:id\" component={Post} />\n\n        <Route path=\"/sign-up\" component={SignUp} />\n        <Route path=\"/admin\" component={Admin} />\n        <Switch>\n          <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n        </Switch>\n      </BrowserRouter>\n    </Provider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}