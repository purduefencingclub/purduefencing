{"ast":null,"code":"import _defineProperty from\"/home/fencingadmin/purduefencing/purduefencing/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/fencingadmin/purduefencing/purduefencing/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/fencingadmin/purduefencing/purduefencing/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/fencingadmin/purduefencing/purduefencing/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/fencingadmin/purduefencing/purduefencing/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState,useContext}from\"react\";import{useHistory,Link,withRouter}from\"react-router-dom\";import classnames from\"classnames\";import PropTypes from\"prop-types\";import{loginUser,registerUser}from\"../actions/authActions\";import{connect}from\"react-redux\";import{Nav,Container,Button,Row,Col,Form}from\"react-bootstrap\";import UserContext from\"../context/userContext\";import axios from\"axios\";import Footer from\"../components/Footer\";import Navigation from\"../components/Navigation\";import\"../styles/index.css\";import{Component}from\"react\";import context from\"react-bootstrap/esm/AccordionContext\";import Login from\"../components/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Admin=/*#__PURE__*/function(_Component){_inherits(Admin,_Component);var _super=_createSuper(Admin);function Admin(){var _this;_classCallCheck(this,Admin);_this=_super.call(this);_this.onChange=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.onSubmit=function(e){e.preventDefault();var userData={email:_this.state.email,password:_this.state.password};_this.props.loginUser(userData);};_this.state={email:\"\",password:\"\",errors:{}};return _this;}_createClass(Admin,[{key:\"componentDidMount\",value:function componentDidMount(){// If logged in and user navigates to Login page, should redirect them to dashboard\nif(this.props.auth.isAuthenticated){this.props.history.push(\"/dashboard\");// push user to dashboard when they login\n}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push(\"/dashboard\");// push user to dashboard when they login\n}if(nextProps.errors){this.setState({errors:nextProps.errors});}}},{key:\"render\",value:function render(){var _jsx2,_jsx3;var errors=this.state.errors;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"script\",{src:\"https://kit.fontawesome.com/a17da011a4.js\",crossorigin:\"anonymous\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-nav\",children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"div\",{className:\"header-text\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"p\",{className:\"heading-about\",children:\"SPEAK FRIEND AND ENTER\"})})})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Container,{className:\"fencing-body\",children:/*#__PURE__*/_jsx(Row,{xs:1,md:1,children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form,{noValidate:true,onSubmit:this.onSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,(_jsx2={type:\"email\",placeholder:\"username\",onChange:this.onChange,value:this.state.email,error:errors.email,id:\"email\"},_defineProperty(_jsx2,\"type\",\"email\"),_defineProperty(_jsx2,\"className\",classnames(\"\",{invalid:errors.email||errors.emailnotfound})),_jsx2))]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,(_jsx3={type:\"password\",placeholder:\"Password\",onChange:this.onChange,value:this.state.password,error:errors.password,id:\"password\"},_defineProperty(_jsx3,\"type\",\"password\"),_defineProperty(_jsx3,\"className\",classnames(\"\",{invalid:errors.password||errors.passwordincorrect})),_jsx3))]}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",type:\"submit\",children:\"Submit\"})]})})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Admin;}(Component);Login.propTypes={loginUser:PropTypes.func.isRequired,auth:PropTypes.object.isRequired,errors:PropTypes.object.isRequired};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{loginUser:loginUser})(Admin);","map":{"version":3,"sources":["/home/fencingadmin/purduefencing/purduefencing/Client/src/pages/Admin.js"],"names":["React","useState","useContext","useHistory","Link","withRouter","classnames","PropTypes","loginUser","registerUser","connect","Nav","Container","Button","Row","Col","Form","UserContext","axios","Footer","Navigation","Component","context","Login","Admin","onChange","e","setState","target","id","value","onSubmit","preventDefault","userData","email","state","password","props","errors","auth","isAuthenticated","history","push","nextProps","invalid","emailnotfound","passwordincorrect","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useHistory, Link, withRouter } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport { loginUser, registerUser } from \"../actions/authActions\";\nimport { connect } from \"react-redux\";\n\nimport { Nav, Container, Button, Row, Col, Form } from \"react-bootstrap\";\nimport UserContext from \"../context/userContext\";\n\nimport axios from \"axios\";\nimport Footer from \"../components/Footer\";\n\nimport Navigation from \"../components/Navigation\";\nimport \"../styles/index.css\";\nimport { Component } from \"react\";\nimport context from \"react-bootstrap/esm/AccordionContext\";\n\nimport Login from \"../components/Login\";\n\nclass Admin extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {},\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\"); // push user to dashboard when they login\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\"); // push user to dashboard when they login\n    }\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors,\n      });\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const userData = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n    this.props.loginUser(userData);\n  };\n  render() {\n    const { errors } = this.state;\n    return (\n      <>\n        <script\n          src=\"https://kit.fontawesome.com/a17da011a4.js\"\n          crossorigin=\"anonymous\"\n        ></script>\n        <div className=\"admin-nav\">\n          <Navigation></Navigation>\n          <div className=\"header-text\">\n            <Container>\n              <Row>\n                <p className=\"heading-about\">SPEAK FRIEND AND ENTER</p>\n              </Row>\n            </Container>\n          </div>\n        </div>\n        <br />\n        <div>\n          <Container className=\"fencing-body\">\n            <Row xs={1} md={1}>\n              <Col>\n                <Form\n                  noValidate\n                  onSubmit={this.onSubmit}\n                  className=\"login-form\"\n                >\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Username</Form.Label>\n                    <Form.Control\n                      type=\"email\"\n                      placeholder=\"username\"\n                      onChange={this.onChange}\n                      value={this.state.email}\n                      error={errors.email}\n                      id=\"email\"\n                      type=\"email\"\n                      className={classnames(\"\", {\n                        invalid: errors.email || errors.emailnotfound,\n                      })}\n                    />\n                  </Form.Group>\n\n                  <Form.Group className=\"mb-3\">\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      onChange={this.onChange}\n                      value={this.state.password}\n                      error={errors.password}\n                      id=\"password\"\n                      type=\"password\"\n                      className={classnames(\"\", {\n                        invalid: errors.password || errors.passwordincorrect,\n                      })}\n                    />\n                  </Form.Group>\n                  <Button variant=\"dark\" type=\"submit\">\n                    Submit\n                  </Button>\n                </Form>\n              </Col>\n            </Row>\n          </Container>\n          <br />\n          <br />\n        </div>\n        <Footer></Footer>\n      </>\n    );\n  }\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n};\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  errors: state.errors,\n});\n\nexport default connect(mapStateToProps, { loginUser })(Admin);\n"]},"metadata":{},"sourceType":"module"}