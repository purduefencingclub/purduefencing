{"ast":null,"code":"var _jsxFileName = \"/Users/turtle/purduefencingclub/github/live/purduefencing/Client/src/components/DashboardPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Nav, Container, Button, Row, Col, Card, Modal, Form } from \"react-bootstrap\";\nimport image1 from \"../image1.jpeg\";\nimport axios from \"axios\";\nimport \"../styles/index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet token;\n\nconst DashboardPost = ({\n  post\n}) => {\n  _s();\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [title, setTitle] = useState();\n  const [body, setBody] = useState();\n  const [editFile, setEditFile] = useState();\n\n  const titleChange = e => {\n    setTitle(e.target.value);\n  };\n\n  const bodyChange = e => {\n    setBody(e.target.value);\n  };\n\n  try {\n    token = localStorage.getItem(\"jwtToken\").split(\" \")[1];\n  } catch (err) {\n    console.log(\"Token doesn't exist!\");\n  }\n\n  const handleDelete = e => {\n    console.log(token);\n    e.preventDefault();\n    axios.delete(`https://purduefencing.com/v1/api/posts/${post._id}`, {\n      headers: {\n        \"x-auth-token\": `${token}`\n      }\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  const handleEdit = e => {\n    console.log(\"asdf\");\n    const formDataEdit = new FormData();\n    formDataEdit.append(\"title\", title);\n    formDataEdit.append(\"body\", body);\n    formDataEdit.append(\"image\", editFile);\n    console.log(formDataEdit.title);\n    e.preventDefault();\n    axios.put(`https://purduefencing.com/v1/api/posts/${post._id}`, formDataEdit, {\n      headers: {\n        \"x-auth-token\": `${token}`\n      }\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  const path = \"/images/\" + post.image;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: path\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: post.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleShow,\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Modal, {\n              show: show,\n              onHide: handleClose,\n              children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                closeButton: true,\n                children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                  children: \"Edit a post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                children: [\"*Make sure to update every field before you hit submit. sorry\", /*#__PURE__*/_jsxDEV(Form, {\n                  noValidate: true,\n                  onSubmit: handleEdit,\n                  className: \"submit-form\",\n                  encType: \"multipart/form-data\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Title\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"email\",\n                      placeholder: \"Title\",\n                      onChange: titleChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Body\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      placeholder: \"Body\",\n                      onChange: bodyChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"formFile\",\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Upload image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"file\",\n                      onChange: e => setEditFile(e.target.files[0]),\n                      name: \"image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"secondary\",\n                  onClick: handleClose,\n                  children: \"Close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  onClick: handleEdit,\n                  children: \"Save Changes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleDelete,\n              variant: \"dark\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n          className: \"text-muted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(DashboardPost, \"D/xGKp+0Y2zGJTcDBUffpAV97/I=\");\n\n_c = DashboardPost;\nexport default DashboardPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"DashboardPost\");","map":{"version":3,"sources":["/Users/turtle/purduefencingclub/github/live/purduefencing/Client/src/components/DashboardPost.js"],"names":["React","useState","Nav","Container","Button","Row","Col","Card","Modal","Form","image1","axios","token","DashboardPost","post","show","setShow","handleClose","handleShow","title","setTitle","body","setBody","editFile","setEditFile","titleChange","e","target","value","bodyChange","localStorage","getItem","split","err","console","log","handleDelete","preventDefault","delete","_id","headers","then","res","handleEdit","formDataEdit","FormData","append","put","path","image","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Nav,\n  Container,\n  Button,\n  Row,\n  Col,\n  Card,\n  Modal,\n  Form,\n} from \"react-bootstrap\";\nimport image1 from \"../image1.jpeg\";\n\nimport axios from \"axios\";\n\nimport \"../styles/index.css\";\n\nlet token;\nconst DashboardPost = ({ post }) => {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const [title, setTitle] = useState();\n  const [body, setBody] = useState();\n  const [editFile, setEditFile] = useState();\n\n  const titleChange = (e) => {\n    setTitle(e.target.value);\n  };\n  const bodyChange = (e) => {\n    setBody(e.target.value);\n  };\n\n  try {\n    token = localStorage.getItem(\"jwtToken\").split(\" \")[1];\n  } catch (err) {\n    console.log(\"Token doesn't exist!\");\n  }\n  const handleDelete = (e) => {\n    console.log(token);\n    e.preventDefault();\n    axios\n      .delete(`https://purduefencing.com/v1/api/posts/${post._id}`, {\n        headers: {\n          \"x-auth-token\": `${token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n      });\n  };\n\n  const handleEdit = (e) => {\n    console.log(\"asdf\");\n    const formDataEdit = new FormData();\n\n    formDataEdit.append(\"title\", title);\n    formDataEdit.append(\"body\", body);\n    formDataEdit.append(\"image\", editFile);\n    console.log(formDataEdit.title);\n    e.preventDefault();\n    axios\n      .put(`https://purduefencing.com/v1/api/posts/${post._id}`, formDataEdit, {\n        headers: {\n          \"x-auth-token\": `${token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n      });\n  };\n\n  const path = \"/images/\" + post.image;\n  return (\n    <>\n      <div>\n        <Card>\n          <Card.Img variant=\"top\" src={path} />\n          <Card.Body>\n            <Card.Title>{post.title}</Card.Title>\n            <Card.Text>\n              <Button variant=\"primary\" onClick={handleShow}>\n                Edit\n              </Button>\n              <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                  <Modal.Title>Edit a post</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                  *Make sure to update every field before you hit submit. sorry\n                  <Form\n                    noValidate\n                    onSubmit={handleEdit}\n                    className=\"submit-form\"\n                    encType=\"multipart/form-data\"\n                  >\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Title</Form.Label>\n                      <Form.Control\n                        type=\"email\"\n                        placeholder=\"Title\"\n                        onChange={titleChange}\n                      />\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\">\n                      <Form.Label>Body</Form.Label>\n                      <Form.Control placeholder=\"Body\" onChange={bodyChange} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formFile\" className=\"mb-3\">\n                      <Form.Label>Upload image</Form.Label>\n                      <Form.Control\n                        type=\"file\"\n                        onChange={(e) => setEditFile(e.target.files[0])}\n                        name=\"image\"\n                      />\n                    </Form.Group>\n                  </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"secondary\" onClick={handleClose}>\n                    Close\n                  </Button>\n                  <Button variant=\"primary\" onClick={handleEdit}>\n                    Save Changes\n                  </Button>\n                </Modal.Footer>\n              </Modal>{\" \"}\n              <Button onClick={handleDelete} variant=\"dark\">\n                Delete\n              </Button>\n            </Card.Text>\n          </Card.Body>\n          <Card.Footer className=\"text-muted\"></Card.Footer>\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default DashboardPost;\n"]},"metadata":{},"sourceType":"module"}